(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2c2cfa81"],{"20f6":function(e,t,a){},"2fa4":function(e,t,a){"use strict";a("20f6");var n=a("80d2");t["a"]=Object(n["i"])("spacer","div","v-spacer")},c464:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"text-center"},[a("v-dialog",{attrs:{scrollable:""},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[a("v-card-title",{staticClass:"text-h5 grey lighten-2"},[e._v(" Races ")]),e.dialog?a("v-card-text",[e.selectedUser?e._m(0):e._e(),a("div",[a("v-data-table",{attrs:{loading:e.eventLoader,headers:[{text:"Name",value:"name"},{text:"City",value:"eventCity"},{text:"Finish Position",value:"place"},{text:"Date",value:"eventdatetime"}],items:e.UserEvents},scopedSlots:e._u([{key:"item.eventid.name",fn:function(t){var n=t.item;return[a("a",{on:{click:function(t){e.$router.push({name:"Road",query:{year:new Date(n.eventid.eventdatetime).getFullYear(),event:n.eventid.id}})}}},[e._v(e._s(n.eventid.name))])]}}],null,!1,2513248435)})],1)]):e._e(),a("v-divider"),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{text:""},on:{click:function(t){e.dialog=!1}}},[e._v(" Close ")])],1)],1)],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",sm:"12"}},[a("v-card",[a("v-card-title"),a("v-card-text",[a("div",[a("v-card",{staticClass:"ma-2"},[a("v-card-title",[a("v-spacer"),a("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:e.Usersearch,callback:function(t){e.Usersearch=t},expression:"Usersearch"}})],1),a("v-data-table",{staticClass:"elevation-1",attrs:{loading:e.UserLoader,dense:"","footer-props":{"items-per-page-options":[15]},headers:e.headers,items:e.AcaUsers,"item-key":"name",search:e.Usersearch,options:e.pagination_myrequest},on:{"update:options":function(t){e.pagination_myrequest=t}},scopedSlots:e._u([{key:"item.view_result",fn:function(t){var n=t.item;return[a("a",{on:{click:function(t){return e.selectedUserModal(n)}}},[e._v(e._s(e.aca_result.aca_result.filter((function(e){return e.racerId==n.id})).length))])]}}])})],1)],1)])],1)],1)],1)],1)},s=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e._v(" "+e._s(e.getUserRaces(e.selectedUser))+" ")])}],r=a("5530"),i=a("3835"),c=a("b85c"),o=(a("d3b7"),a("ddb0"),a("4de4"),a("d81d"),a("7db0"),a("b0c0"),a("be3b")),d=a("e2b3"),l=a("506a"),u=a("2fc5"),v={data:function(){return{aca_result:l,dialog:!1,selectedUser:null,UserEvents:[],eventLoader:!1,AcaUsers:[],pagination_myrequest:{},Usersearch:"",UserLoader:!1,AcaEvent:[],pagination_events:{},Eventsearch:"",EventLoader:!1,AcaRaceGroup:[],pagination_AcaRaceGroup:{},AcaRaceGroupsearch:"",AcaRaceGroupLoader:!1,AcaResult:[],pagination_AcaResult:{},AcaResultsearch:"",AcaResultLoader:!1,headers:[{text:"First Name",value:"firstName"},{text:"Last Name",value:"lastName"},{text:"City",value:"city"},{text:"View Results",value:"view_result"}],Eventheaders:[{text:"Event Name",value:"name"},{text:"Event Date",value:"eventdate"},{text:"Event City",value:"eventcity"},{text:"Event State",value:"eventstate"}],AcaRaceGroupheaders:[{text:"Event Name",value:"name"},{text:"Abbreviation",value:"abbreviation"}],AcaResultheaders:[{text:"Racer Id",value:"racerid.firstname"},{text:"Event id",value:"eventid.name"},{text:"Event Date",value:"eventid.eventdate"},{text:"place",value:"place"}],currentPage:1,pageSize:10,totalItems:0,displayedUsers:[]}},watch:{Usersearch:function(e){this.getUsers({})},Eventsearch:function(e){this.getEvent({})},AcaRaceGroupsearch:function(e){this.getAcaRaceGroupsearch({})},AcaResultsearch:function(e){this.getAcaResult({})},pagination_myrequest:{handler:function(e){this.getUsers(e)},deep:!0},pagination_events:{handler:function(e){this.getEvent(e)},deep:!0},pagination_AcaRaceGroup:{handler:function(e){this.getAcaRaceGroupsearch(e)},deep:!0},pagination_AcaResult:{handler:function(e){this.getAcaResult(e)},deep:!0}},mounted:function(){},methods:{FormURL:function(e,t){var a="",n=t;try{if(e.sortBy.length>=1){var s,r=Object(c["a"])(e.sortBy.entries());try{for(r.s();!(s=r.n()).done;){var o=Object(i["a"])(s.value,2),d=o[0],l=o[1];e.sortDesc[d]?a+="&ordering=-"+l+"&":a+="&ordering="+l+"&"}}catch(u){r.e(u)}finally{r.f()}}return n+="&page="+e.page,n+a}catch(u){return n}},getUsers:function(e){this.UserLoader=!0,this.AcaUsers=d.aca_user,this.UserLoader=!1},getEvent:function(e){var t=this;this.AcaEvent=[],this.EventLoader=!0,o["a"].get(this.FormURL(e,"/AcaEvent/?fields=id,name,eventcity,eventstate")+"&search="+this.Eventsearch,{method:"GET"}).then((function(e){t.AcaEvent=e.data,t.EventLoader=!1}))},getAcaRaceGroupsearch:function(e){var t=this;this.AcaRaceGroup=[],this.AcaRaceGroupLoader=!0,o["a"].get(this.FormURL(e,"/AcaRacegroup/?fields=id,name,abbreviation")+"&search="+this.AcaRaceGroupsearch,{method:"GET"}).then((function(e){t.AcaRaceGroup=e.data,t.AcaRaceGroupLoader=!1}))},getAcaResult:function(e){var t=this;this.AcaResult=[],this.AcaResultLoader=!0,o["a"].get(this.FormURL(e,"/AcaResult/?fields=id,racerid,eventid,place")+"&search="+this.AcaResultsearch,{method:"GET"}).then((function(e){t.AcaResult=e.data,t.AcaResultLoader=!1}))},selectedUserModal:function(e){this.UserEvents=[],this.selectedUser=e,this.getUserRaces(),this.dialog=!0,console.log(e)},getUserRaces:function(){var e=this;this.eventLoader=!0,this.UserEvents=l.aca_result.filter((function(t){return t.racerId==e.selectedUser.id})),this.UserEvents=this.UserEvents.map((function(e){var t=u.aca_event.find((function(t){return t.id===e.eventId}));return Object(r["a"])(Object(r["a"])({},e),{},{name:t?t.name:"",eventCity:t?t.eventCity:"",eventdatetime:t?t.eventdatetime:""})})),this.eventLoader=!1}}},h=v,f=a("2877"),p=a("6544"),m=a.n(p),g=a("8336"),R=a("b0af"),A=a("99d9"),U=a("62ad"),_=a("8fea"),b=a("169a"),E=a("ce7e"),x=a("0fd9"),y=a("2fa4"),L=a("8654"),G=Object(f["a"])(h,n,s,!1,null,null,null);t["default"]=G.exports;m()(G,{VBtn:g["a"],VCard:R["a"],VCardActions:A["a"],VCardText:A["b"],VCardTitle:A["c"],VCol:U["a"],VDataTable:_["a"],VDialog:b["a"],VDivider:E["a"],VRow:x["a"],VSpacer:y["a"],VTextField:L["a"]})}}]);
//# sourceMappingURL=chunk-2c2cfa81.a847145f.js.map