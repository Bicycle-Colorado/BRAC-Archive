(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0b610e"],{"1c28":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"12"}},[a("v-card",{attrs:{elevation:"0"}},[a("v-card-text",[a("div",[a("v-row",{staticClass:"ml-3 mt-2"},[a("v-col",{attrs:{cols:"12",sm:"2"}},[a("v-autocomplete",{attrs:{"hide-details":"",dense:"",items:e.Years,label:"Year"},model:{value:e.SelectedYear,callback:function(t){e.SelectedYear=t},expression:"SelectedYear"}})],1),a("v-col",{attrs:{cols:"12",sm:"4"}},[a("v-autocomplete",{attrs:{"hide-details":"",loading:e.EventLoader,disabled:e.EventLoader,dense:"",items:e.Events,"item-value":"id","item-text":"name",label:"Events"},scopedSlots:e._u([{key:"item",fn:function(t){return[a("v-list-item-content",[a("v-list-item-title",[e._v(" "+e._s(t.item.name))]),a("v-list-item-subtitle",[e._v(" "+e._s(e.formatDate(t.item.eventdatetime))+"-@ "+e._s(t.item.eventCity)+" ")])],1)]}}]),model:{value:e.EventSelected,callback:function(t){e.EventSelected=t},expression:"EventSelected"}})],1),a("v-col",{attrs:{cols:"12",sm:"2"}},[a("v-autocomplete",{attrs:{"hide-details":"",loading:e.GroupLoader,disabled:e.GroupLoader,dense:"",items:e.Groups,"item-value":"id","item-text":"name",label:"Group"},model:{value:e.GroupSelcted,callback:function(t){e.GroupSelcted=t},expression:"GroupSelcted"}})],1),a("v-col",{attrs:{cols:"12",sm:"1"}},[e.GroupSelcted?a("v-btn",{attrs:{small:"",target:"__blank__",href:"/AcaResultNoPage/?resultsetid="+e.GroupSelcted+"&export=csv&type=road"}},[e._v("Export CSV")]):e._e()],1)],1),a("v-row",{staticClass:"mt-2"},[a("v-col",[a("b",[e._v("RACE SUMMARY:")]),a("v-btn-toggle",{staticClass:"ml-2",attrs:{dense:"",borderless:""},model:{value:e.summaryBy,callback:function(t){e.summaryBy=t},expression:"summaryBy"}},[a("v-btn",[a("span",{staticClass:"hidden-sm-and-down"},[e._v("Summary By RaceGroup")])])],1),a("v-data-table",{staticClass:"elevation-1 mt-1",attrs:{loading:e.EventResultLoader,dense:"","footer-props":{"items-per-page-options":[15]},headers:e.headers,items:e.EventResult.results,"item-key":"name",search:e.ResultSearch,options:e.pagination_results,"server-items-length":e.EventResult.count},on:{"update:options":function(t){e.pagination_results=t}},scopedSlots:e._u([{key:"item.view_result",fn:function(t){var s=t.item;return[a("a",{on:{click:function(t){return e.selectedUserModal(s)}}},[e._v("${item.view_result}")])]}},{key:"item.name",fn:function(t){var s=t.item;return[a("a",{on:{click:function(t){return e.selectedCategory(s)}}},[e._v(e._s(s.name))])]}}])})],1)],1)],1)])],1)],1)],1)],1)},r=[],l=(a("a9e3"),a("5530")),i=(a("4de4"),a("d3b7"),a("25f0"),a("d81d"),a("7db0"),a("be3b"),a("96e1")),n=a("2fc5"),u=a("e445"),o=a("506a"),c=a("e2b3"),d={data:function(){return{Years:[],SelectedYear:null,Events:[],EventLoader:!1,EventSelected:null,EventResult:[],EventResultLoader:!1,GroupSelcted:null,Groups:[],GroupLoader:!1,summaryBy:0,pagination_results:{},headers:[{text:"CATEGORY",value:"eventracegroupid.abbreviation"},{text:"STARTERS\t",value:"STARTERS"},{text:"FINISHERS",value:"FINISHERS"},{text:"Details",value:"DEtails"}],RaceByCate:[{text:"CATEGORY",value:"eventracegroupid.abbreviation"},{text:"STARTERS\t",value:"STARTERS\t"},{text:"FINISHERS",value:"FINISHERS"},{text:"Details",value:"DEtails"}],RaceByCateWithGroup:[{text:"Place",value:"place"},{text:"TIME",value:"time"},{text:"CATEGORY",value:"eventracegroupid.mincategory"},{text:"FIRST NAME",value:"racerid.firstname"},{text:"Last NAME",value:"racerid.lastname"},{text:"CITY",value:"racerid.city"}],RaceByCity:[{text:"Home City",value:"CATEGORY"},{text:"FINISHERS\t",value:"STARTERS\t"}],RaceByTeam:[{text:"TEAM",value:"CATEGORY"},{text:"FINISHERS",value:"STARTERS"}],ResultSearch:""}},watch:{summaryBy:function(e){this.getHeaders()},EventSelected:function(e){this.GroupLoader=!0,this.Groups=u.aca_resultset.filter((function(t){return t.eventId===e})),this.Groups.push({name:"Event Summary",id:-1}),this.GroupLoader=!1,this.GroupSelcted=-1,this.EventResult={results:this.Groups}},GroupSelcted:function(e){if(this.EventResult=[],-1==e)console.log(e),this.EventResult={results:this.Groups},this.headers=[{text:"CATEGORY",value:"name"},{text:"STARTERS",value:"starters"},{text:"FINISHERS",value:"starters"}];else{var t=o.aca_result.filter((function(t){return t.resultSetId===e}));this.EventResult={results:this.mapUserDetails(t)},this.headers=[{text:"Place",value:"rsPlace"},{text:"TIME",value:"time"},{text:"CATEGORY",value:"eventRaceGroupId"},{text:"FIRST NAME",value:"firstName"},{text:"Last NAME",value:"lastName"},{text:"CITY",value:"city"}]}},SelectedYear:function(e){this.EventLoader=!0,this.Events=n.aca_event.filter((function(t){var a=new Date(t.eventdatetime).getFullYear();return a.toString()===e.toString()})),this.EventLoader=!1}},methods:{mapUserDetails:function(e){return e.map((function(e){var t=c.aca_user.find((function(t){return t.id===e.racerId}));return Object(l["a"])(Object(l["a"])({},e),{},{firstName:t?t.firstName:"",lastName:t?t.lastName:"",city:t?t.city:""})}))},getHeaders:function(){0==this.summaryBy?this.headers=this.RaceByCate:1==this.summaryBy?this.headers=this.RaceByCity:2==this.summaryBy&&(this.headers=this.RaceByTeam)},getYear:function(){this.Years=i}}},v={mixins:[d],mounted:function(){this.getYear(),console.log(this.$route.query),this.$route.query.year&&(this.SelectedYear=Number(this.$route.query.year)),this.$route.query.event&&(this.EventSelected=Number(this.$route.query.event))},methods:{selectedCategory:function(e){this.GroupSelcted=e.id},formatDate:function(e){var t=new Date(e),a={day:"numeric",month:"long",year:"numeric"};return t.toLocaleDateString("en-US",a)}}},m=v,S=a("2877"),h=a("6544"),p=a.n(h),E=a("c6a6"),R=a("8336"),f=a("a609"),y=a("b0af"),b=a("99d9"),x=a("62ad"),T=a("8fea"),g=a("5d23"),G=a("0fd9"),C=Object(S["a"])(m,s,r,!1,null,null,null);t["default"]=C.exports;p()(C,{VAutocomplete:E["a"],VBtn:R["a"],VBtnToggle:f["a"],VCard:y["a"],VCardText:b["b"],VCol:x["a"],VDataTable:T["a"],VListItemContent:g["a"],VListItemSubtitle:g["b"],VListItemTitle:g["c"],VRow:G["a"]})}}]);
//# sourceMappingURL=chunk-2d0b610e.40151e70.js.map